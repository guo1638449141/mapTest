<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自定义marker样式</title>
    <script charset="utf-8" src="https://map.qq.com/api/gljs?v=1.exp&key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77"></script>
    <style type="text/css">
        html,
        body {
            height: 100%;
            margin: 0px;
            padding: 0px;
        }
    
        #container {
            width: 100%;
            height: 100%;
        }
    
        #set-style{
            position: absolute;
            left: 30px;
            top: 30px;
            z-index: 9999;
            padding: 10px;
        }
    </style>
</head>

<body>
    <div id="container"></div>
    <input type="button" id="set-style" onclick="setStyle()" value="setStyle">
    <script>
        // 设置中心点坐标
        var center = new TMap.LatLng(39.954104, 116.357503);
        // 初始化地图
        var map = new TMap.Map("container", {
            center: center
        });
        // 初始化marker
        var marker = new TMap.MultiMarker({
            id: "marker-layer",
            map: map,
            styles: {
                "marker": new TMap.MarkerStyle({
                    "width": 45,
                    "height": 55,
                    "anchor": { x: 16, y: 32 },
                    "src": '../img/坐标.png'
                })
            },
            geometries: [{
                "id": "demo",
                "styleId": 'marker',
                "position": new TMap.LatLng(39.954104, 116.357503),
                "properties": {
                    "title": "marker"
                }
            }]
        });
        
        function setStyle(){
            // 更换marker样式方法
            marker.setStyles({"marker":new TMap.MarkerStyle({
                "width": 70,
                "height": 70,
                "src": 'https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/markerNew.png',
                "opacity": 0.5
            })})
        }

    </script>
</body>

</html>