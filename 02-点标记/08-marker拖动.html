<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>拖动marker</title>
    <!-- <script charset="utf-8" src="https://map.qq.com/api/gljs?v=1.exp&key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77"></script> -->
    <script charset="utf-8"
        src="https://map.qq.com/api/gljs?libraries=tools&v=1.exp&key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77"></script>
    <style type="text/css">
        html,
        body {
            height: 100%;
            margin: 0px;
            padding: 0px;
        }

        #container {
            width: 100%;
            height: 90%;
        }

        #information {
            margin: 5px;
        }
    </style>
</head>

<body onload="initMap()">
    <div id="container"></div>
    <div id="information">点击Marker后选中目标，然后进行拖动。</div>
    <script type="text/javascript">
        function initMap() {
            const map = new TMap.Map("container", {
                zoom: 12, // 设置地图缩放级别
                center: new TMap.LatLng(39.984104, 116.307503) // 设置地图中心点坐标
            });
            const marker = new TMap.MultiMarker({
                map: map,
                styles: {
                    "highlight": new TMap.MarkerStyle({
                        "src": "https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/marker-pink.png"
                    })
                },
                geometries: [{ //点标注数据数组
                    "position": new TMap.LatLng(39.984104, 116.307503),
                }, {
                    "position": new TMap.LatLng(39.984104, 116.337503),
                }, {
                    "position": new TMap.LatLng(39.984104, 116.367503),
                }]
            });
            // 初始化几何图形及编辑器
            const editor = new TMap.tools.GeometryEditor({
                map, // 编辑器绑定的地图对象
                overlayList: [{
                    overlay: marker, // 可编辑图层
                    id: "marker",
                    selectedStyleId: "highlight"  // 被选中的marker会变为高亮样式
                }],
                actionMode: TMap.tools.constants.EDITOR_ACTION.INTERACT, // 编辑器的工作模式
                activeOverlayId: "marker", // 激活图层
                selectable: true
            });
        }


    </script>
</body>

</html>